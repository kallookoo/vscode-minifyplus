"use strict";var r=Object.create;var a=Object.defineProperty;var f=Object.getOwnPropertyDescriptor;var u=Object.getOwnPropertyNames;var l=Object.getPrototypeOf,h=Object.prototype.hasOwnProperty;var v=(o,t)=>{for(var e in t)a(o,e,{get:t[e],enumerable:!0})},d=(o,t,e,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of u(t))!h.call(o,i)&&i!==e&&a(o,i,{get:()=>t[i],enumerable:!(s=f(t,i))||s.enumerable});return o};var C=(o,t,e)=>(e=o!=null?r(l(o)):{},d(t||!o||!o.__esModule?a(e,"default",{value:o,enumerable:!0}):e,o)),p=o=>d(a({},"__esModule",{value:!0}),o);var T={};v(T,{activate:()=>x,deactivate:()=>m});module.exports=p(T);var n=C(require("vscode")),c=class{activate=!1;config;currentTool;languageId;constructor(t){this.config=n.workspace.getConfiguration("minifyplus"),n.commands.executeCommand("setContext","minifyplus.extensionEnabled",!1),t.subscriptions.push(this.onDidChangeActiveTextEditor(),this.onDidChangeConfiguration())}getCurrentTool(){let t=this.config?this.config.get("tools.languages",{}):{};this.languageId&&t&&Object.hasOwn(t,this.languageId)&&(this.currentTool=t[this.languageId])}getConfig(t,e){let s=this.config.get(t);if(this.languageId){this.getCurrentTool();let i=this.config.get("tools.configuration",{});if(i&&Object.hasOwn(i,this.languageId)){let g=i[this.languageId];g?.settings&&Object.hasOwn(g,t)&&(s=g.settings[t])}}return s||e}setContext(t){this.languageId=t?.document.languageId??void 0,this.currentTool=void 0,this.activate=!1,this.languageId&&(this.activate=!!(this.languageId&&Object.hasOwn(this.getConfig("tools.languages",{}),this.languageId))),n.commands.executeCommand("setContext","minifyplus.extensionEnabled",this.activate)}onDidChangeActiveTextEditor(){return n.window.onDidChangeActiveTextEditor(t=>{this.setContext(t)})}onDidChangeConfiguration(){return n.workspace.onDidChangeConfiguration(t=>{t.affectsConfiguration("minifyplus")&&(n.window.showInformationMessage("MinifyPlus Updated"),this.config=n.workspace.getConfiguration("minifyplus"),this.setContext(n.window.activeTextEditor))})}};function x(o){new c(o)}function m(){n.commands.executeCommand("setContext","minifyplus.extensionEnabled",!1)}0&&(module.exports={activate,deactivate});
